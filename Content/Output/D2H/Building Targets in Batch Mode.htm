<?xml version="1.0" encoding="utf-8"?>
<html MadCap:conditions="Products.D2H" MadCap:lastBlockDepth="8" MadCap:lastHeight="2102" MadCap:lastWidth="713" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="" style="mc-master-page: url('..\..\Resources\MasterPages\PDF_Topics\D2H\D2HTargets.flmsp');">
    <head>
        <link href="../../Resources/TableStyles/BasicAlternateRows.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1>
            <MadCap:keyword term="Output" />
            <MadCap:keyword term="Targets" />Building Targets in Batch Mode</h1>
        <p>You may build targets in batch mode from the command line through a special executable program, C1D2HBatch.exe.</p>
        <p>If you need to start a build from Windows Services (such as the Task Scheduler or TFS Build), you should use a different executable, C1D2HAgent.exe. See <c1hjump><MadCap:xref href="Building Targets Using Windows Services.htm">Building Targets Using Windows Services</MadCap:xref></c1hjump>.</p>
        <p>Both of these executables are located in <span class="Emphasis">C:\Program Files (x86)\MadCap Software\DocToHelp</span>.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Commands</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>The commands are as follows:</p>
                <table style="margin-left: 0;margin-right: auto;width: 100%;mc-table-style: url('../../Resources/TableStyles/BasicAlternateRows.css');" class="TableStyle-BasicAlternateRows" cellspacing="0">
                    <col class="TableStyle-BasicAlternateRows-Column-Regular" />
                    <col class="TableStyle-BasicAlternateRows-Column-Regular" />
                    <col class="TableStyle-BasicAlternateRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-BasicAlternateRows-Head-Header1">
                            <th class="TableStyle-BasicAlternateRows-HeadE-Regular-Header1">
                                <p class="TableTextHead">Command</p>
                            </th>
                            <th class="TableStyle-BasicAlternateRows-HeadE-Regular-Header1">
                                <p class="TableTextHead">Description</p>
                            </th>
                            <th class="TableStyle-BasicAlternateRows-HeadD-Regular-Header1">
                                <p class="TableTextHead">Example</p>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-BasicAlternateRows-Body-LightRows">
                            <td class="TableStyle-BasicAlternateRows-BodyE-Regular-LightRows">
                                <p class="TableTextEmphasis">c1d2hbatch –build </p>
                            </td>
                            <td class="TableStyle-BasicAlternateRows-BodyE-Regular-LightRows">
                                <p class="TableText1">Rebuilds the current target entirely.</p>
                            </td>
                            <td class="TableStyle-BasicAlternateRows-BodyD-Regular-LightRows">
                                <p class="TableText1">c1d2hbatch -build "c:\D2H Projects\StyleGuide\StyleGuide.d2h" "StyleGuide NetHelp" -p</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-BasicAlternateRows-Body-DarkerRows">
                            <td class="TableStyle-BasicAlternateRows-BodyE-Regular-DarkerRows">
                                <p class="TableTextEmphasis">c1d2hbatch –make </p>
                            </td>
                            <td class="TableStyle-BasicAlternateRows-BodyE-Regular-DarkerRows">
                                <p class="TableText1">Updates the current target.</p>
                            </td>
                            <td class="TableStyle-BasicAlternateRows-BodyD-Regular-DarkerRows">
                                <p class="TableText1">c1d2hbatch -make "c:\D2H Projects\StyleGuide\StyleGuide.d2h" "StyleGuide Manual"</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-BasicAlternateRows-Body-LightRows">
                            <td class="TableStyle-BasicAlternateRows-BodyB-Regular-LightRows">
                                <p class="TableTextEmphasis">c1d2hbatch –build or make <br />-lLogFile (optional)</p>
                            </td>
                            <td class="TableStyle-BasicAlternateRows-BodyB-Regular-LightRows">
                                <p class="TableText1">Saves the build log file with a specific name, rather than the default name, which is equal to the current date and time. </p>
                            </td>
                            <td class="TableStyle-BasicAlternateRows-BodyA-Regular-LightRows">
                                <p class="TableText1">c1d2hbatch&#160; -build "c:\D2H Projects\StyleGuide\StyleGuide.d2h" "StyleGuide Manual" -lmyfilename.log</p>
                                <p class="TableText1">Build log will be stored in the Temp\BuildLogs directory.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p class="note" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: #6dc1aa;&quot; class=&quot;mcFormatColor&quot;&gt;Note: &lt;/span&gt;&lt;/b&gt;">There is currently only one flag allowed in 'flags': -p, enabling the output of progress messages.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:snippetBlock src="../../Resources/Snippets/EmptyPageBreakAfter.flsnp" MadCap:conditions="D2HGuides.D2HTargetsGuide" />
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Error and Log Messages</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>All error and log messages are sent to the console standard output and have the following format:</p>
                <ul>
                    <li>
                        <p>For errors aborting compilation:</p>
                        <p class="TypedEntry">D2H:fatal error:[error code]: [message text]</p>
                        <p>The [error code] is a numeric error code.</p>
                    </li>
                    <li>
                        <p>For logged user errors, compilation continues and every log error is output to the Output window:</p>
                        <p class="TypedEntry">D2H:log error document:[document name]</p>
                        <p class="TypedEntry">D2H:log error topic:[topic title]</p>
                        <p class="TypedEntry">D2H:log error message:[severity]:[message text]</p>
                        <p>The [document name] and [topic title] can be empty, depending on the nature of the error.</p>
                        <p>The [severity] will be listed as one of the following three strings: "note," "warning," or "error."</p>
                    </li>
                    <li>
                        <p>A log message, for information only, shows what document is currently compiling, what action is being performed, and so on:</p>
                        <p class="TypedEntry">D2H:log:[message text]</p>
                    </li>
                    <li>
                        <p>A progress message appears only if the -p flag is present:</p>
                        <p class="TypedEntry">D2H:progress:[done]/[total]</p>
                        <p>Here [done] is an integer number indicating how many steps of the currently performed action have been completed so far.</p>
                        <p>The [total] is an integer number indicating the total number of steps in the currently performed action.</p>
                    </li>
                    <li>
                        <p>A progress completion message indicates that the current action has been completed, and it appears only if the -p flag is present:</p>
                        <p class="TypedEntry">D2H:progress:done</p>
                    </li>
                    <MadCap:pageBreak MadCap:conditions="D2HGuides.D2HTargetsGuide" />
                    <li>
                        <p>An unresolved links list is the output at the end of a successful build when the -build or -make commands are used. Every unresolved link is output to the Output window:</p>
                        <p class="TypedEntry">D2H:unresolved link text:[link text]</p>
                        <p class="TypedEntry">D2H:unresolved link style:[style name]</p>
                        <p class="TypedEntry">D2H:unresolved link topic:[topic title]</p>
                        <p class="TypedEntry">D2H:unresolved link document:[document name]</p>
                    </li>
                    <li>
                        <p>For a successful build:</p>
                        <p class="TypedEntry">D2H:succeeded</p>
                    </li>
                    <li>
                        <p>For a failed build:</p>
                        <p class="TypedEntry">D2H:failed</p>
                    </li>
                    <li>
                        <p>The last message before Doc-To-Help batch mode exits:</p>
                        <p class="TypedEntry">D2H:exit</p>
                    </li>
                </ul>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot MadCap:conditions="General.OnlineLive">Note</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody class="Final">
                <div class="note">
                    <p class="noteInDiv" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: #6dc1aa;&quot; class=&quot;mcFormatColor&quot;&gt;Note: &lt;/span&gt;&lt;/b&gt;">In Windows 7 and later, C1D2HBatch.exe must be run as administrator, or it will always throw an exception. If you run it directly, start it with "Run as Administrator," available in Windows 7/8 and Vista in the context menu of the C1D2HBatch.exe file. If you run it from a command line prompt, open the command line window with "Run as Administrator." If you run it from a script or a program, make sure the script or program runs as administrator.</p>
                </div>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
    </body>
</html>